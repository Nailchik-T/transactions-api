# API для управления транзакциями

Проект представляет собой REST API для управления транзакциями и категориями. Система позволяет создавать и получать информацию о транзакциях, которые включают данные о дате, авторе, сумме, категории и дополнительных комментариях. Приложение построено на **Node.js**, **Express**, **TypeScript** и использует **DTO валидацию** с помощью **class-transformer** и **class-validator** для обеспечения целостности данных.

## Функциональные возможности

-   **Управление транзакциями**: Создание, получение и организация транзакций.
-   **Управление категориями**: Определение категорий и их связь с транзакциями.
-   **Настройки среды**: Настройка данных для подключения к базе данных с помощью переменных среды.
-   **Валидация данных**: DTO классы для проверки и преобразования входных данных.

## Установка

### Предварительные требования

-   Установленные **Node.js** и **npm**.
-   **MySQL** или совместимая SQL база данных.

### Шаги

1. Клонируйте репозиторий:

    ```bash
    git clone https://github.com/Nailchik-T/transactions-api.git
    cd transactions-api
    ```

2. Установите зависимости:

    ```bash
    npm install
    ```

3. Настройте переменные окружения:

    Создайте файл `.env` в корневой директории проекта и добавьте следующие переменные:

    ```plaintext
    DB_USER=your_db_username
    DB_PASSWORD=your_db_password
    DB_NAME=your_db_name
    ```

   ## Переменные среды

Приложение использует следующие переменные окружения:

| Переменная    | Значение по умолчанию | Описание                        |
| ------------- | --------------------- | ------------------------------- |
| `DB_USER`     | root                  | Имя пользователя базы данных    |
| `DB_PASSWORD` | root                  | Пароль пользователя базы данных |
| `DB_Name`     | root                  | Название базы данных            |


4. Запустите приложение:
    ```bash
    npm run dev
    ```

## Структура проекта

-   **controllers/**: Содержит `CategoryController` и `TransactionController` для обработки бизнес-логики.
-   **routes/**: Содержит `CategoryRoute` и `TransactionRoute` для управления конечными точками для категорий и транзакций.
-   **dto/**: Содержит DTO-классы, такие как `CategoryDto` и `TransactionDto`, для проверки данных.
-   **interfaces/**: Содержит TypeScript интерфейсы, включая `IRoute` для стандартизации маршрутов.
-   **config/**: Конфигурация окружения с `dbUser` и `dbPassword`.

## API Эндпоинты

### Категории

-   **GET** `/transactions/categories`: Получить все категории.
-   **POST** `/transactions/categories`: Создать новую категорию.

### Транзакции

-   **GET** `/transactions`: Получить все транзакции.
-   **POST** `/transactions`: Создать новую транзакцию.

## Объекты передачи данных (DTO)

В проекте используются DTO для проверки входящих данных с помощью `class-validator`:

### CategoryDto

-   **name**: `string` - Обязательное поле.

### TransactionDto

-   **dateTime**: `Date` - Обязательное поле.
-   **author**: `string` - Обязательное поле.
-   **sum**: `number` - Обязательное поле.
-   **categoryId**: `number` - Обязательное поле. Идентификатор категории.
-   **comment**: `string` - Опциональное поле.

